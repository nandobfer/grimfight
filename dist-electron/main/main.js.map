{"version":3,"file":"main.js","sources":["../../electron/main.ts"],"sourcesContent":["import { app, BrowserWindow } from \"electron\"\nimport path from \"node:path\"\n\nfunction createWindow() {\n    const win = new BrowserWindow({\n        width: 768,\n        height: 768,\n        webPreferences: {\n            preload: path.join(__dirname, \"../preload/preload.js\"),\n        },\n    })\n\n    // Dev vs Prod\n    const devUrl = process.env.ELECTRON_RENDERER_URL\n    if (devUrl) {\n        win.loadURL(devUrl)\n        win.webContents.openDevTools({ mode: \"detach\" })\n    } else {\n        // dist-electron/main/main.js  -> __dirname is dist-electron/main\n        // renderer outDir is \"dist\"   -> ../../dist/index.html\n        win.loadFile(path.join(__dirname, \"../../dist/index.html\"))\n    }\n}\n\napp.commandLine.appendSwitch(\"ignore-gpu-blocklist\")\napp.commandLine.appendSwitch(\"enable-gpu-rasterization\")\napp.commandLine.appendSwitch(\"enable-zero-copy\")\n\napp.whenReady().then(() => {\n    createWindow()\n\n    app.on(\"activate\", () => {\n        if (BrowserWindow.getAllWindows().length === 0) createWindow()\n    })\n})\n\napp.on(\"window-all-closed\", () => {\n    if (process.platform !== \"darwin\") app.quit()\n})\n\napp.whenReady().then(() => {\n    console.log(\"GPU:\", app.getGPUFeatureStatus())\n})\n\n"],"names":["BrowserWindow","app"],"mappings":";;;AAGA,SAAS,eAAe;AACpB,QAAM,MAAM,IAAIA,uBAAc;AAAA,IAC1B,OAAO;AAAA,IACP,QAAQ;AAAA,IACR,gBAAgB;AAAA,MACZ,SAAS,KAAK,KAAK,WAAW,uBAAuB;AAAA,IAAA;AAAA,EACzD,CACH;AAGD,QAAM,SAAS,QAAA,IAAY;AAC3B,MAAI,QAAQ;AACR,QAAI,QAAQ,MAAM;AAClB,QAAI,YAAY,aAAa,EAAE,MAAM,UAAU;AAAA,EACnD,OAAO;AAGH,QAAI,SAAS,KAAK,KAAK,WAAW,uBAAuB,CAAC;AAAA,EAC9D;AACJ;AAEAC,SAAAA,IAAI,YAAY,aAAa,sBAAsB;AACnDA,SAAAA,IAAI,YAAY,aAAa,0BAA0B;AACvDA,SAAAA,IAAI,YAAY,aAAa,kBAAkB;AAE/CA,SAAAA,IAAI,UAAA,EAAY,KAAK,MAAM;AACvB,eAAA;AAEAA,eAAI,GAAG,YAAY,MAAM;AACrB,QAAID,SAAAA,cAAc,cAAA,EAAgB,WAAW,EAAG,cAAA;AAAA,EACpD,CAAC;AACL,CAAC;AAEDC,SAAAA,IAAI,GAAG,qBAAqB,MAAM;AAC9B,MAAI,QAAQ,aAAa,SAAUA,UAAAA,IAAI,KAAA;AAC3C,CAAC;AAEDA,SAAAA,IAAI,UAAA,EAAY,KAAK,MAAM;AACvB,UAAQ,IAAI,QAAQA,SAAAA,IAAI,oBAAA,CAAqB;AACjD,CAAC;"}